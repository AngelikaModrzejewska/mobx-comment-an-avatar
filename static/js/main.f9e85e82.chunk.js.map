{"version":3,"sources":["Comments.module.scss","Form.module.scss","Picture.module.scss","App.module.scss","stores/CommentsStore.js","stores/PicStore.js","stores/RootStore.js","stores/StoreProvider.jsx","stores/hooks.js","Comments.jsx","Form.jsx","Picture.jsx","App.js","index.js"],"names":["module","exports","CommentsStore","makeObservable","this","observable","id","comment","action","comments","push","filter","PicStore","a","picId","Math","floor","random","fetch","response","json","data","picUrl","image","RootStore","commentsStore","picStore","StoreContext","createContext","StoreProvider","children","Provider","value","useCommentsStore","rootStore","useContext","Error","style","bemCssModules","CommStyles","observer","removeComment","handleClick","event","Number","target","dataset","commentsElements","map","className","data-id","onClick","FormStyles","Form","useState","inputData","setInputData","addComment","onSubmit","preventDefault","Date","now","onChange","type","PicStyles","usePicStore","getPic","removeAllComments","src","alt","AppStyles","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f9e85e82.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ul\":\"Comments_ul__19udG\",\"ul__button-ul\":\"Comments_ul__button-ul__3-KDS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form__label\":\"Form_form__label__2vkNI\",\"form__input\":\"Form_form__input__1Dn_V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picture\":\"Picture_picture__1v1sh\",\"picture__img\":\"Picture_picture__img__1utiy\",\"picture__button\":\"Picture_picture__button__25zAu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__gz6bG\",\"app__content\":\"App_app__content__z61j0\",\"app__h1\":\"App_app__h1__1Uooj\",\"app__h2\":\"App_app__h2__1pcUa\",\"app__components\":\"App_app__components__2CahM\",\"app__comm-section\":\"App_app__comm-section__26l7c\"};","import { action, makeObservable, observable } from 'mobx';\r\n\r\nconst NO_RESULT = -1;\r\n\r\nexport default class CommentsStore {\r\n\r\n  @observable\r\n  comments = [{\r\n    id: 5532532,\r\n    comment: 'So funny!',\r\n  }];\r\n\r\n  constructor() {\r\n    makeObservable(this);\r\n  }\r\n\r\n  @action\r\n  addComment = comment => this.comments.push(comment);\r\n\r\n  @action\r\n  removeComment = id => {\r\n\r\n    if (id === NO_RESULT) {\r\n      return;\r\n    }\r\n\r\n    this.comments = this.comments.filter(\r\n      comment => comment.id !== id\r\n    );\r\n  };\r\n\r\n  @action\r\n  removeAllComments = () => {\r\n    this.comments = [];\r\n  }\r\n}","import { action, makeObservable, observable } from 'mobx';\r\n\r\nexport default class PicStore {\r\n\r\n    @observable picUrl = `https://rickandmortyapi.com/api/character/avatar/1.jpeg`\r\n\r\n    constructor() {\r\n        makeObservable(this);\r\n    }\r\n\r\n    @action\r\n    getPic = async () => {\r\n        let picId = Math.floor(Math.random() * 15) + 1;\r\n        const response = await fetch(`https://rickandmortyapi.com/api/character/${picId}`);\r\n        const data = await response.json();\r\n        this.picUrl = data.image;\r\n    }\r\n}\r\n","import CommentsStore from './CommentsStore';\r\nimport PicStore from './PicStore';\r\n\r\nexport default class RootStore {\r\n  constructor() {\r\n    this.commentsStore = new CommentsStore();\r\n    this.picStore = new PicStore();\r\n  }\r\n}","import { createContext, useEffect, useState } from 'react';\r\nimport RootStore from './RootStore';\r\n\r\nexport const StoreContext = createContext();\r\n\r\nconst StoreProvider = ({ children }) => {\r\n\r\n  return (\r\n    <StoreContext.Provider value={new RootStore()}>\r\n      {children}\r\n    </StoreContext.Provider>\r\n  )\r\n}\r\n\r\n\r\nexport default StoreProvider;","import { useContext } from 'react';\r\nimport { StoreContext } from './StoreProvider';\r\n\r\n//creating own hooks\r\nexport function useCommentsStore() {\r\n  const rootStore = useContext(StoreContext);\r\n\r\n  if (!rootStore) {\r\n    throw new Error('RootStore not found :=(');\r\n  }\r\n  return rootStore.commentsStore;\r\n}\r\n\r\nexport function usePicStore() {\r\n  const rootStore = useContext(StoreContext);\r\n\r\n  if (!rootStore) {\r\n    throw new Error('RootStore not found :=(');\r\n  }\r\n  return rootStore.picStore;\r\n}","import bemCssModules from 'bem-css-modules';\r\nimport { observer } from 'mobx-react';\r\nimport { useCommentsStore } from './stores/hooks';\r\nimport { default as CommStyles } from './Comments.module.scss';\r\n\r\nconst style = bemCssModules(CommStyles);\r\n\r\nconst Comments = () => {\r\n  \r\n  const { comments, removeComment } = useCommentsStore();\r\n\r\n  const handleClick = event => {\r\n    const id = Number(event.target.dataset.id);\r\n    removeComment(id);\r\n  }\r\n\r\n  const commentsElements = comments.map(comment => (\r\n    <li key={comment.id}>\r\n      <p>{comment.comment}</p>\r\n      <button \r\n        className={style('button-ul')}\r\n        data-id={comment.id}\r\n        onClick={handleClick}\r\n      >\r\n        Delete comment\r\n      </button>\r\n    </li>\r\n  ));\r\n\r\n  return (\r\n    <ul className={style()}>\r\n      {commentsElements}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default observer(Comments);","import bemCssModules from 'bem-css-modules';\r\nimport { useState } from 'react';\r\nimport { useCommentsStore } from './stores/hooks';\r\nimport { default as FormStyles } from './Form.module.scss';\r\n\r\nconst style = bemCssModules(FormStyles);\r\n\r\nconst Form = () => {\r\n  const [inputData, setInputData] = useState('');\r\n  const { addComment } = useCommentsStore();\r\n\r\n  const handleOnChange = event => setInputData(event.target.value);\r\n\r\n  const handleOnSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const comment = {\r\n      id: Date.now(),\r\n      comment: inputData,\r\n    };\r\n\r\n    addComment(comment);\r\n    setInputData('');\r\n  }\r\n\r\n  return (\r\n    <form \r\n      className={style()}\r\n      onSubmit={handleOnSubmit}>\r\n      <label className={style('label')}>\r\n        Your comment:\r\n        <br/>\r\n        <input\r\n          className={style('input')}\r\n          onChange={handleOnChange}\r\n          type=\"text\"\r\n          value={inputData}\r\n        />\r\n      </label>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;","import bemCssModules from 'bem-css-modules';\r\nimport { observer } from 'mobx-react';\r\nimport { useCommentsStore, usePicStore } from './stores/hooks';\r\nimport { default as PicStyles } from './Picture.module.scss';\r\n\r\nconst style = bemCssModules(PicStyles);\r\n\r\nconst Picture = () => {\r\n  \r\n    const { picUrl, getPic } = usePicStore();\r\n    const { removeAllComments } = useCommentsStore();\r\n  \r\n    const handleClick = () => {\r\n        getPic();\r\n        removeAllComments();\r\n    }\r\n\r\n    return (\r\n        <div className={style()}> \r\n            <img className={style('img')} src={picUrl} alt=\"...\" />\r\n            <button className={style('button')} onClick={handleClick}>Next Avatar</button>\r\n        </div>\r\n    );\r\n  };\r\n\r\nexport default observer(Picture);","import bemCssModules from 'bem-css-modules';\nimport Comments from './Comments';\nimport Form from './Form';\nimport Picture from './Picture';\nimport StoreProvider from './stores/StoreProvider';\nimport { default as AppStyles } from './App.module.scss';\n\nconst style = bemCssModules(AppStyles);\n\nconst App = () => {\n  return (\n    <StoreProvider>\n      <div className={style()}>\n        <div className={style('content')}>\n          <h1 className={style('h1')}>Comment avatars!</h1>\n          <h2 className={style('h2')}>Do you like me?</h2>\n          <div className={style('components')}>\n            <Picture />\n            <div className={style('comm-section')}>\n              <Comments />\n              <Form />\n            </div>\n          </div>\n        </div>\n      </div>\n    </StoreProvider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}